(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[608],{6984:function(e,i,a){Promise.resolve().then(a.bind(a,6284))},6284:function(e,i,a){"use strict";a.r(i),a.d(i,{default:function(){return S}});var t=a(7437),c=a(9376),n=a(2265),d=a(1994),r=a(1096),l=a.n(r),m=a(9065),o=a(1964),s=a(6593),y=a(3249),v=a(1279),u=a(6915),x=a(6170),_=a(3974),p=a(7491),h=a(1236);function S(){var e,i,a,r,S,g;let N=(0,c.useRouter)(),[j,q]=(0,n.useState)(1),[I,O]=(0,n.useState)(3),{data:b}=(0,s.a)({queryKey:["deviceVoltage","my_device1"],queryFn:()=>(0,_.u)({deviceName:"my_device1"})}),{data:K}=(0,s.a)({queryKey:["deviceVoltage","my_device2"],queryFn:()=>(0,_.u)({deviceName:"my_device2"})}),{data:w}=(0,s.a)({queryKey:["deviceVoltage","my_device3"],queryFn:()=>(0,_.u)({deviceName:"my_device3"})}),{data:f}=(0,s.a)({queryKey:["deviceAmperage","my_device1"],queryFn:()=>(0,_.w6)({deviceName:"my_device1"})}),{data:F}=(0,s.a)({queryKey:["deviceAmperage","my_device2"],queryFn:()=>(0,_.w6)({deviceName:"my_device2"})}),{data:E}=(0,s.a)({queryKey:["deviceAmperage","my_device3"],queryFn:()=>(0,_.w6)({deviceName:"my_device3"})}),{data:P}=(0,s.a)({queryKey:["deviceLocation","my_device1"],queryFn:()=>(0,_.k$)({deviceName:"my_device1"})}),{data:Y}=(0,s.a)({queryKey:["deviceLocation","my_device2"],queryFn:()=>(0,_.k$)({deviceName:"my_device2"})}),[C,U]=(0,n.useState)([]),[k,V]=(0,n.useState)([]),[Z,A]=(0,n.useState)([]),{data:$}=(0,s.a)({queryKey:["deviceVoltageUrls","my_device1"],queryFn:()=>(0,_._i)({deviceName:"my_device1",lim:"10"})}),{data:L}=(0,s.a)({queryKey:["deviceVoltageUrls","my_device2"],queryFn:()=>(0,_._i)({deviceName:"my_device2",lim:"10"})}),{data:M}=(0,s.a)({queryKey:["deviceVoltageUrls","my_device3"],queryFn:()=>(0,_._i)({deviceName:"my_device3",lim:"10"})});(0,n.useEffect)(()=>{$&&Promise.all($.map(e=>(0,_.Yu)(e))).then(e=>{U(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))}),L&&Promise.all(L.map(e=>(0,_.Yu)(e))).then(e=>{V(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))}),M&&Promise.all(M.map(e=>(0,_.Yu)(e))).then(e=>{A(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))});let e=setInterval(async()=>{let e=await (0,_.u)({deviceName:"my_device1"}),i=await (0,_.u)({deviceName:"my_device2"}),a=await (0,_.u)({deviceName:"my_device3"});e&&U(i=>[...i,{x:l()().toISOString(),y:e.con}]),i&&V(e=>[...e,{x:l()().toISOString(),y:i.con}]),a&&A(e=>[...e,{x:l()().toISOString(),y:a.con}])},Number(h.KK.get("interval")));return()=>clearInterval(e)},[$,L,M]);let[T,J]=(0,n.useState)([]),[z,G]=(0,n.useState)([]),[R,B]=(0,n.useState)([]),{data:W}=(0,s.a)({queryKey:["deviceEnergyConsumptionUrls","my_device1"],queryFn:()=>(0,_.Zu)({deviceName:"my_device1",lim:"10"})}),{data:X}=(0,s.a)({queryKey:["deviceEnergyConsumptionUrls","my_device2"],queryFn:()=>(0,_.Zu)({deviceName:"my_device2",lim:"10"})}),{data:D}=(0,s.a)({queryKey:["deviceEnergyConsumptionUrls","my_device3"],queryFn:()=>(0,_.Zu)({deviceName:"my_device3",lim:"10"})});(0,n.useEffect)(()=>{W&&Promise.all(W.map(e=>(0,_.Yu)(e))).then(e=>{J(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))}),X&&Promise.all(X.map(e=>(0,_.Yu)(e))).then(e=>{G(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))}),D&&Promise.all(D.map(e=>(0,_.Yu)(e))).then(e=>{B(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))});let e=setInterval(async()=>{let e=await (0,_.SO)({deviceName:"my_device1"}),i=await (0,_.SO)({deviceName:"my_device2"}),a=await (0,_.SO)({deviceName:"my_device3"});e&&J(i=>[...i,{x:l()().toISOString(),y:e.con}]),i&&G(e=>[...e,{x:l()().toISOString(),y:i.con}]),a&&B(e=>[...e,{x:l()().toISOString(),y:a.con}])},Number(h.KK.get("interval")));return()=>clearInterval(e)},[W,X,D]);let[H,Q]=(0,n.useState)([]),[ee,ei]=(0,n.useState)([]),[ea,et]=(0,n.useState)([]),{data:ec}=(0,s.a)({queryKey:["deviceCurrentUrls","my_device1"],queryFn:()=>(0,_.xt)({deviceName:"my_device1",lim:"10"})}),{data:en}=(0,s.a)({queryKey:["deviceCurrentUrls","my_device2"],queryFn:()=>(0,_.xt)({deviceName:"my_device2",lim:"10"})}),{data:ed}=(0,s.a)({queryKey:["deviceCurrentUrls","my_device3"],queryFn:()=>(0,_.xt)({deviceName:"my_device3",lim:"10"})});(0,n.useEffect)(()=>{ec&&Promise.all(ec.map(e=>(0,_.Yu)(e))).then(e=>{Q(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))}),en&&Promise.all(en.map(e=>(0,_.Yu)(e))).then(e=>{ei(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))}),ed&&Promise.all(ed.map(e=>(0,_.Yu)(e))).then(e=>{et(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))});let e=setInterval(async()=>{let e=await (0,_.YE)({deviceName:"my_device1"}),i=await (0,_.YE)({deviceName:"my_device2"}),a=await (0,_.YE)({deviceName:"my_device3"});e&&Q(i=>[...i,{x:l()().toISOString(),y:e.con}]),i&&ei(e=>[...e,{x:l()().toISOString(),y:i.con}]),a&&et(e=>[...e,{x:l()().toISOString(),y:a.con}])},Number(h.KK.get("interval")));return()=>clearInterval(e)},[ec,en,ed]);let[er,el]=(0,n.useState)([]),[em,eo]=(0,n.useState)([]),[es,ey]=(0,n.useState)([]),{data:ev}=(0,s.a)({queryKey:["deviceTemperatureUrls","my_device1"],queryFn:()=>(0,_.d$)({deviceName:"my_device1",lim:"10"})}),{data:eu}=(0,s.a)({queryKey:["deviceTemperatureUrls","my_device2"],queryFn:()=>(0,_.d$)({deviceName:"my_device2",lim:"10"})}),{data:ex}=(0,s.a)({queryKey:["deviceTemperatureUrls","my_device3"],queryFn:()=>(0,_.d$)({deviceName:"my_device3",lim:"10"})});return(0,n.useEffect)(()=>{ev&&Promise.all(ev.map(e=>(0,_.Yu)(e))).then(e=>{el(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))}),eu&&Promise.all(eu.map(e=>(0,_.Yu)(e))).then(e=>{eo(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))}),ex&&Promise.all(ex.map(e=>(0,_.Yu)(e))).then(e=>{ey(e.map(e=>({x:l()(e.ct).toISOString(),y:e.con})))});let e=setInterval(async()=>{let e=await (0,_.se)({deviceName:"my_device1"}),i=await (0,_.se)({deviceName:"my_device2"}),a=await (0,_.se)({deviceName:"my_device3"});e&&el(i=>[...i,{x:l()().toISOString(),y:e.con}]),i&&eo(e=>[...e,{x:l()().toISOString(),y:i.con}]),a&&ey(e=>[...e,{x:l()().toISOString(),y:a.con}])},Number(h.KK.get("interval")));return()=>clearInterval(e)},[ev,eu,eu]),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsx)(x.Z,{series:[{name:"my_device1",data:C,color:"red"},{name:"my_device2",data:k,color:"green"},{name:"my_device3",data:Z,color:"blue"}]}),(0,t.jsx)(v.Z,{series:[{name:"my_device1",data:T,color:"red"},{name:"my_device2",data:z,color:"green"},{name:"my_device3",data:R,color:"blue"}]}),(0,t.jsxs)("div",{className:"rounded-2xl border p-4 shadow-lg",children:[(0,t.jsx)("div",{className:"text-[20px] font-bold",children:"Energy Meters"}),(0,t.jsxs)("table",{className:"table mt-6",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Voltage, V"}),(0,t.jsx)("th",{children:"Amperage, V"}),(0,t.jsx)("th",{children:"Power, W"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{className:"cursor-pointer",onClick:()=>N.push("/device/my_device1"),children:[(0,t.jsx)("th",{children:"my_device1"}),(0,t.jsx)("td",{children:null!==(e=null==b?void 0:b.con)&&void 0!==e?e:"null"}),(0,t.jsx)("td",{children:null!==(i=null==f?void 0:f.con)&&void 0!==i?i:"null"}),(0,t.jsx)("td",{children:b&&f?b.con*f.con:"null"})]}),(0,t.jsxs)("tr",{className:"cursor-pointer",onClick:()=>N.push("/device/my_device2"),children:[(0,t.jsx)("th",{children:"my_device2"}),(0,t.jsx)("td",{children:null!==(a=null==K?void 0:K.con)&&void 0!==a?a:"null"}),(0,t.jsx)("td",{children:null!==(r=null==F?void 0:F.con)&&void 0!==r?r:"null"}),(0,t.jsx)("td",{children:K&&F?K.con*F.con:"null"})]}),(0,t.jsxs)("tr",{className:"cursor-pointer",onClick:()=>N.push("/device/my_device3"),children:[(0,t.jsx)("th",{children:"my_device3"}),(0,t.jsx)("td",{children:null!==(S=null==w?void 0:w.con)&&void 0!==S?S:"null"}),(0,t.jsx)("td",{children:null!==(g=null==E?void 0:E.con)&&void 0!==g?g:"null"}),(0,t.jsx)("td",{children:w&&E?w.con*E.con:"null"})]})]})]}),(0,t.jsx)("div",{className:"mt-2 flex justify-center",children:(0,t.jsx)(m.Z,{current:j,total:I,pageSize:5,onChange:e=>{q(e)},className:"flex",itemRender:(e,i,a)=>"prev"===i||"next"===i?(0,t.jsx)("button",{className:"disabled:text-disabled mx-[2px] flex h-[32px] w-[32px] items-center justify-center"}):"page"===i?(0,t.jsx)("button",{className:(0,d.Z)("mx-[2px] h-[32px] w-[32px] !rounded-[4px]",e===j&&"bg-neutral text-white"),children:e}):"jump-next"===i||"jump-prev"===i?(0,t.jsx)("button",{className:"mx-[2px] h-[32px] w-[32px]",children:"..."}):a})})]}),(0,t.jsx)(y.Z,{series:[{name:"my_device1",data:H,color:"red"},{name:"my_device2",data:ee,color:"green"},{name:"my_device3",data:ea,color:"blue"}]}),(0,t.jsx)(u.Z,{series:[{name:"my_device1",data:er,color:"red"},{name:"my_device2",data:em,color:"green"},{name:"my_device3",data:es,color:"blue"}]}),(0,t.jsxs)("div",{className:"rounded-2xl border p-4 shadow-lg",children:[(0,t.jsx)("div",{className:"text-[20px] font-bold",children:"Map"}),(0,t.jsx)(o.KJ,{googleMapsApiKey:p.O.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY,children:(0,t.jsxs)(o.b6,{mapContainerStyle:{width:"100%",height:"400px"},center:{lat:37.55019990767467,lng:126.83168912732489},zoom:13,children:[(0,t.jsx)(o.Jx,{position:{lat:Number(null==P?void 0:P.con.split(", ")[0]),lng:Number(null==P?void 0:P.con.split(", ")[1])},label:"my_device1"}),(0,t.jsx)(o.Jx,{position:{lat:Number(null==Y?void 0:Y.con.split(", ")[0]),lng:Number(null==Y?void 0:Y.con.split(", ")[1])},label:"my_device2"})]})})]})]})}}},function(e){e.O(0,[910,153,991,65,388,971,117,744],function(){return e(e.s=6984)}),_N_E=e.O()}]);